---
import { execSync } from 'node:child_process'

function safeExec(cmd: string): string {
  try {
    return execSync(cmd).toString().trim()
  } catch {
    return 'unknown'
  }
}

export const commitHash = process.env.GIT_COMMIT ?? safeExec('git rev-parse HEAD')

export const commitHashShort =
  process.env.GIT_COMMIT_SHORT ?? safeExec('git rev-parse --short HEAD')
---

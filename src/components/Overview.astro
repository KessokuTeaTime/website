---
import TicketCard from './TicketCard.astro'

const props = Astro.props
---

<div {...props}>
  <slot name="title" />
  <div class="spacing" data-spacing="title"></div>
  <TicketCard class="card card-description" borderThickness="1px" cornerSize="3.25em">
    <slot name="description" />
  </TicketCard>
  <TicketCard class="card card-portfolio" borderThickness="1px" cornerSize="3.25em">
    <slot name="portfolio" />
  </TicketCard>
</div>

<style lang="scss">
  @use '@/styles/mixins' as *;

  .spacing {
    &[data-spacing='title'] {
      height: 2.5rem;

      @include layout(desktop) {
        height: 0;
      }
    }
  }

  .card {
    padding: 1.5em 1em;

    --hr-spacing: 2em;
    --hr-padding: 1em;

    @include layout(compact) {
      padding: 2em 1px;
      margin: 0 -1px;

      --hr-spacing: 2em;
      --hr-padding: 0;

      &:last-child {
        mask: linear-gradient(to bottom, black calc(100% - 2em), transparent calc(100% - 2em));
      }
    }

    @include layout(desktop) {
      padding: 2em;
      margin: 4.25em 2.5em;

      --hr-spacing: 3em;
      --hr-padding: 2em;

      animation: float-card ease-in-out infinite alternate;
    }
  }

  .card-description {
    @include layout(desktop) {
      rotate: -3.27deg;
      transform: translateX(-3.7%);
      animation-duration: 4.2s;
    }
  }

  .card-portfolio {
    @include layout(desktop) {
      rotate: 2.15deg;
      transform: translateX(4.2%);
      animation-duration: 3.6s;
    }
  }

  .links {
    display: flex;
    justify-content: center;
    align-items: center;
  }

  @keyframes float-card {
    0% {
      transform: translateY(-5px);
    }
    100% {
      transform: translateY(5px);
    }
  }
</style>
